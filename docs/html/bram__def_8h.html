<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>megadev: lib/sub/bram_def.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">megadev
   &#160;<span id="projectnumber">1</span>
   </div>
   <div id="projectbrief">A Sega Mega CD development framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_0330af36ce091999d45b889a888d0ef9.html">sub</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">bram_def.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Function codes for the _BURAM vector.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="sub__def_8h_source.html">sub/sub_def.h</a>&quot;</code><br />
</div>
<p><a href="bram__def_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a224494499bba59a8d6c1ff72d61e4e02"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bram__def_8h.html#a224494499bba59a8d6c1ff72d61e4e02">BRMINIT</a>&#160;&#160;&#160;0x0000</td></tr>
<tr class="memdesc:a224494499bba59a8d6c1ff72d61e4e02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares to read/write from Backup RAM.  <a href="bram__def_8h.html#a224494499bba59a8d6c1ff72d61e4e02">More...</a><br /></td></tr>
<tr class="separator:a224494499bba59a8d6c1ff72d61e4e02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76293811bcfb22a5a483c75afe8bf80f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bram__def_8h.html#a76293811bcfb22a5a483c75afe8bf80f">BRMSTAT</a>&#160;&#160;&#160;0x0001</td></tr>
<tr class="memdesc:a76293811bcfb22a5a483c75afe8bf80f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns Backup RAM usage.  <a href="bram__def_8h.html#a76293811bcfb22a5a483c75afe8bf80f">More...</a><br /></td></tr>
<tr class="separator:a76293811bcfb22a5a483c75afe8bf80f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b079d0ed929d63b43fa1ad580c494b5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bram__def_8h.html#a6b079d0ed929d63b43fa1ad580c494b5">BRMSERCH</a>&#160;&#160;&#160;0x0002</td></tr>
<tr class="memdesc:a6b079d0ed929d63b43fa1ad580c494b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search for the requested file in Backup RAM.  <a href="bram__def_8h.html#a6b079d0ed929d63b43fa1ad580c494b5">More...</a><br /></td></tr>
<tr class="separator:a6b079d0ed929d63b43fa1ad580c494b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4df41e131be11252dcb12f951a6019a9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bram__def_8h.html#a4df41e131be11252dcb12f951a6019a9">BRMREAD</a>&#160;&#160;&#160;0x0003</td></tr>
<tr class="memdesc:a4df41e131be11252dcb12f951a6019a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from Backup RAM.  <a href="bram__def_8h.html#a4df41e131be11252dcb12f951a6019a9">More...</a><br /></td></tr>
<tr class="separator:a4df41e131be11252dcb12f951a6019a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aad8afd5eef2f299732b3840698f390"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bram__def_8h.html#a3aad8afd5eef2f299732b3840698f390">BRMWRITE</a>&#160;&#160;&#160;0x0004</td></tr>
<tr class="memdesc:a3aad8afd5eef2f299732b3840698f390"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data to Backup RAM.  <a href="bram__def_8h.html#a3aad8afd5eef2f299732b3840698f390">More...</a><br /></td></tr>
<tr class="separator:a3aad8afd5eef2f299732b3840698f390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c8e5b0900d5c6691b045a28aec24d5c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bram__def_8h.html#a0c8e5b0900d5c6691b045a28aec24d5c">BRMDEL</a>&#160;&#160;&#160;0x0005</td></tr>
<tr class="memdesc:a0c8e5b0900d5c6691b045a28aec24d5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes data in Backup RAM.  <a href="bram__def_8h.html#a0c8e5b0900d5c6691b045a28aec24d5c">More...</a><br /></td></tr>
<tr class="separator:a0c8e5b0900d5c6691b045a28aec24d5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b9d7c4445f373f62323c152ea401e00"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bram__def_8h.html#a0b9d7c4445f373f62323c152ea401e00">BRMFORMAT</a>&#160;&#160;&#160;0x0006</td></tr>
<tr class="memdesc:a0b9d7c4445f373f62323c152ea401e00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Formats the Backup RAM.  <a href="bram__def_8h.html#a0b9d7c4445f373f62323c152ea401e00">More...</a><br /></td></tr>
<tr class="separator:a0b9d7c4445f373f62323c152ea401e00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a288e9c327efded927072ccff7c8f0bf0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bram__def_8h.html#a288e9c327efded927072ccff7c8f0bf0">BRMDIR</a>&#160;&#160;&#160;0x0007</td></tr>
<tr class="memdesc:a288e9c327efded927072ccff7c8f0bf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads Backup RAM directory.  <a href="bram__def_8h.html#a288e9c327efded927072ccff7c8f0bf0">More...</a><br /></td></tr>
<tr class="separator:a288e9c327efded927072ccff7c8f0bf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9189d23ca4efa8e27fea1635484f0bda"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bram__def_8h.html#a9189d23ca4efa8e27fea1635484f0bda">BRMVERIFY</a>&#160;&#160;&#160;0x0008</td></tr>
<tr class="memdesc:a9189d23ca4efa8e27fea1635484f0bda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verify data written to Backup RAM.  <a href="bram__def_8h.html#a9189d23ca4efa8e27fea1635484f0bda">More...</a><br /></td></tr>
<tr class="separator:a9189d23ca4efa8e27fea1635484f0bda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a303a8dbd9822fd21490c2705e1330d23"><td class="memItemLeft" align="right" valign="top"><a id="a303a8dbd9822fd21490c2705e1330d23"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BRM__UNKNOWN0</b>&#160;&#160;&#160;0x0009</td></tr>
<tr class="separator:a303a8dbd9822fd21490c2705e1330d23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7f196bd70dcd71c84cc529c2bff15a2"><td class="memItemLeft" align="right" valign="top"><a id="ac7f196bd70dcd71c84cc529c2bff15a2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BRM__UNKNOWN1</b>&#160;&#160;&#160;0x000A</td></tr>
<tr class="separator:ac7f196bd70dcd71c84cc529c2bff15a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Function codes for the _BURAM vector. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a0c8e5b0900d5c6691b045a28aec24d5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c8e5b0900d5c6691b045a28aec24d5c">&#9670;&nbsp;</a></span>BRMDEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BRMDEL&#160;&#160;&#160;0x0005</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes data in Backup RAM. </p>
<dl class="section warning"><dt>Warning</dt><dd><b>BREAK:</b> d0-d1/a0-a1</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">A0.l</td><td>Pointer to filename </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">CC</td><td>Delete success </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">CS</td><td>Delete failed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a288e9c327efded927072ccff7c8f0bf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a288e9c327efded927072ccff7c8f0bf0">&#9670;&nbsp;</a></span>BRMDIR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BRMDIR&#160;&#160;&#160;0x0007</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads Backup RAM directory. </p>
<dl class="section warning"><dt>Warning</dt><dd><b>BREAK:</b> d0-d1/a0-a1</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">A0.l</td><td>Pointer to file pattern </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">A1.l</td><td>Pointer to directory data buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">D1.l</td><td>File skip &amp; Buffer size</td></tr>
  </table>
  </dd>
</dl>
<p>File skip &amp; Buffer size Upper word: Number of files to skip (for paging results) Lower word: Size of directory data buffer </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">CC</td><td>Read success </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">CS</td><td>Data to read exceeds directory buffer size</td></tr>
  </table>
  </dd>
</dl>
<p>The output buffer will be populated with save file entries matching the requested file pattern. Each entry is 16 bytes. The first 12 is the filename and terminator, followed by 1 word indicating the data start offset and 1 word indicating the file size in blocks.</p>
<dl class="section note"><dt>Note</dt><dd>As with the filename in other BRAM functions, the file pattern is a maximum of 11 bytes with a 0 terminator. However, it uses * as a wildcard to match files to return. The * should appear once, after an initial search pattern. So, to find all files beginning with 'SONIC', the value passed should be 'SONIC*'. The value does not need to fill the full 11 bytes and can terminate immediately after the asterisk. </dd></dl>

</div>
</div>
<a id="a0b9d7c4445f373f62323c152ea401e00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b9d7c4445f373f62323c152ea401e00">&#9670;&nbsp;</a></span>BRMFORMAT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BRMFORMAT&#160;&#160;&#160;0x0006</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Formats the Backup RAM. </p>
<dl class="section warning"><dt>Warning</dt><dd><b>BREAK:</b> d0-d1/a0-a1</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">CC</td><td>Format success </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">CS</td><td>Format failed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Call BRMINIT before calling this function! </dd></dl>

</div>
</div>
<a id="a224494499bba59a8d6c1ff72d61e4e02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a224494499bba59a8d6c1ff72d61e4e02">&#9670;&nbsp;</a></span>BRMINIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BRMINIT&#160;&#160;&#160;0x0000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares to read/write from Backup RAM. </p>
<dl class="section warning"><dt>Warning</dt><dd><b>BREAK:</b> d0-d1/a0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">A0.l</td><td>Pointer to work RAM buffer (0x640 bytes) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">A1.l</td><td>Pointer to display string buffer (12 bytes) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">CC</td><td>Sega formatted RAM present </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">CS</td><td>RAM unformatted or not present </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">D0.w</td><td>Size of backup RAM (from 2 to 0x100, in blocks of 0x1000 bytes) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">D1.w</td><td>Status 0: No RAM present 1: Unformatted 2: Other format </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">A1.l</td><td>Pointer to display strings </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4df41e131be11252dcb12f951a6019a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4df41e131be11252dcb12f951a6019a9">&#9670;&nbsp;</a></span>BRMREAD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BRMREAD&#160;&#160;&#160;0x0003</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read data from Backup RAM. </p>
<dl class="section warning"><dt>Warning</dt><dd><b>BREAK:</b> d0-d1/a0-a1</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">A0.l</td><td>Pointer to filename </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">A1.l</td><td>Pointer to write buffer </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">CC</td><td>Read okay </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">CS</td><td>Error </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">D0.w</td><td>Size in blocks </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">D1.b</td><td>Mode</td></tr>
  </table>
  </dd>
</dl>
<p>Mode 0: Normal 0xff: Data protected </p>

</div>
</div>
<a id="a6b079d0ed929d63b43fa1ad580c494b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b079d0ed929d63b43fa1ad580c494b5">&#9670;&nbsp;</a></span>BRMSERCH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BRMSERCH&#160;&#160;&#160;0x0002</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search for the requested file in Backup RAM. </p>
<dl class="section warning"><dt>Warning</dt><dd><b>BREAK:</b> d0-d1/a0-a1</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">A0.l</td><td>Pointer to filename </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">CC</td><td>File found </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">CS</td><td>File not found </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">D0.w</td><td>Size of file in blocks </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">D1.b</td><td>Mode 0: Normal -1: Data protected with protect function </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">A0.l</td><td>Backup RAM start address</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The filenames are 11 ASCII characters terminated with 0 </dd></dl>

</div>
</div>
<a id="a76293811bcfb22a5a483c75afe8bf80f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76293811bcfb22a5a483c75afe8bf80f">&#9670;&nbsp;</a></span>BRMSTAT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BRMSTAT&#160;&#160;&#160;0x0001</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns Backup RAM usage. </p>
<dl class="section warning"><dt>Warning</dt><dd><b>BREAK:</b> None</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">A1.l</td><td>Pointer to display string buffer (12 bytes) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">D0.w</td><td>Free space (in blocks of 0x1000 bytes) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">D1.w</td><td>Number of files in directory </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9189d23ca4efa8e27fea1635484f0bda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9189d23ca4efa8e27fea1635484f0bda">&#9670;&nbsp;</a></span>BRMVERIFY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BRMVERIFY&#160;&#160;&#160;0x0008</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verify data written to Backup RAM. </p>
<dl class="section warning"><dt>Warning</dt><dd><b>BREAK:</b> d0-d1/a0-a1</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">A0.l</td><td>Pointer to file info structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">A0.l</td><td>Pointer to save data </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">CC</td><td>Data matches </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">CS</td><td>Error </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">D0.w</td><td>Error number 0xFF - Data does not match 0x00 - File not found</td></tr>
  </table>
  </dd>
</dl>
<p>File info structure filename.b[11] flag.b 0x00: normal 0xFF: encoded (with protect function) block_size.w 0x00: 1 block = 0x40 bytes 0xFF: 1 block = 0x20 bytes </p>

</div>
</div>
<a id="a3aad8afd5eef2f299732b3840698f390"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3aad8afd5eef2f299732b3840698f390">&#9670;&nbsp;</a></span>BRMWRITE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BRMWRITE&#160;&#160;&#160;0x0004</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write data to Backup RAM. </p>
<dl class="section warning"><dt>Warning</dt><dd><b>BREAK:</b> d0-d1/a0-a1</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">A0.l</td><td>Pointer to file info structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">A1.l</td><td>Pointer to save data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">D1.l</td><td>Zero (see note) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">CC</td><td>Write successful </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">CS</td><td>Write failed</td></tr>
  </table>
  </dd>
</dl>
<p>File info structure filename.b[11] mode.b 0x00: normal 0xFF: encoded (with protect function) data_size.w size of data in blocks (see note)</p>
<dl class="section note"><dt>Note</dt><dd>The size of a block of data is dependent on the data mode. When set to normal (0), a block is 0x40 bytes in size; when set to encoded (0xFF), a block is 0x20 bytes in size.</dd>
<dd>
Per Tech Bulletin #1, D1 should be set to 0 when calling this routine.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>According to results from BRMDIR, it looks like some commercial game save filenames terminate with 0xFF instead of 0. Need to check if this is significant or just an alternate terminator supported by the BIOS. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
